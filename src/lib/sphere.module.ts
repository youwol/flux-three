
import { BuilderView, Flux, Property, Schema} from '@youwol/flux-core'
import { SphereBufferGeometry } from 'three'
import { BufferGeometryModule } from './buffer-geometry.module'
    

import{pack} from './main'
import { Schemas } from './schemas'

/**
 * ## Presentation
 * 
 * Creates a [sphere geometry](https://threejs.org/docs/#api/en/geometries/SphereGeometry) using
 * a default or provided material.
 *   
 *  ## Resources
 *
 * Various resources:
 * -    [three.js](https://threejs.org/): the three. js library, on top of which is built this module 
 * -    [three sphere](https://threejs.org/docs/#api/en/geometries/SphereGeometry): the sphere geometry representation for three.js
  */
export namespace ModuleSphere {
    
    let svgIcon = `<path fill="#010002" d="M494.366,285.723c-2.088-12.859-7.453-24.633-15.249-34.402c-0.065-0.08-0.127-0.162-0.191-0.244    c-5.019-6.238-11.021-11.645-17.771-15.999c-0.05-0.059-0.101-0.123-0.149-0.179c-0.415-0.488-0.965-0.759-1.541-0.903    c-10.904-6.624-23.643-10.493-37.255-10.722c-0.103,0.002-0.206-0.024-0.309-0.012c-0.32-0.003-0.635-0.033-0.956-0.033    c-4.912,0-9.713,0.491-14.364,1.405c-0.021,0.003-0.042-0.006-0.062-0.002c-0.023,0.002-0.041,0.021-0.064,0.024    c-3.213,0.638-6.339,1.514-9.39,2.552c-0.062,0.008-0.118,0.044-0.18,0.059c-10.719,3.675-20.355,9.702-28.247,17.51    c-0.085,0.086-0.173,0.162-0.259,0.247c-3.104,3.102-5.921,6.482-8.443,10.09c-0.079,0.112-0.161,0.224-0.238,0.335    c-4.441,6.429-7.863,13.603-10.118,21.27c-0.026,0.108-0.076,0.212-0.088,0.323c-1.894,6.55-2.955,13.447-2.955,20.6    c0,5.93,0.718,11.695,2.035,17.227c0.021,0.083,0.038,0.168,0.059,0.25c3.055,12.636,9.334,24.017,17.927,33.227    c0.115,0.123,0.235,0.244,0.35,0.367c5.315,5.621,11.485,10.426,18.315,14.18c0.008,0.006,0.021,0.012,0.029,0.018    c10.602,5.821,22.764,9.141,35.69,9.141l0,0l0,0c0,0,0,0,0.003,0c3.401,0,6.741-0.25,10.022-0.694    c0.062-0.006,0.12-0.006,0.182-0.015c0.012-0.002,0.021-0.012,0.032-0.012c17.081-2.363,32.318-10.539,43.661-22.47    c0.146-0.155,0.297-0.309,0.443-0.468c6.383-6.829,11.489-14.855,14.956-23.704c0.038-0.1,0.079-0.2,0.12-0.302    c3.21-8.306,4.992-17.32,4.992-26.745c0-3.913-0.35-7.741-0.936-11.492C494.401,286.005,494.403,285.862,494.366,285.723z     M437.728,364.085c-1.528,0.386-3.081,0.709-4.647,0.988l-2.199-13.092c6.55-1.063,12.56-2.455,18.037-4.098    c-5.425,10.299-10.969,15.935-11.087,16.049C437.784,363.974,437.769,364.037,437.728,364.085z M367,323.699    c4.28,1.164,9.322,2.198,15.149,2.91c3.331,8.464,7.464,15.581,11.765,21.479c-5.994-0.417-11.204-1.199-15.654-2.154    C374.088,339.919,370.067,332.541,367,323.699z M352.413,297.642c0-5.503,0.67-10.854,1.902-15.987    c0.708,0.323,1.558,0.682,2.484,1.052c-1.167,9.678-1.052,20.121,1.288,30.937c0.062,0.288,0.138,0.558,0.202,0.844    c-1.761-0.772-3.178-1.487-4.253-2.088C352.983,307.646,352.413,302.71,352.413,297.642z M363.832,312.403    c-2.078-9.62-2.293-18.956-1.364-27.673c3.513,1.105,7.823,2.193,12.88,3.058c-0.268,7.276,0.259,14.923,1.955,22.78    c0.747,3.451,1.646,6.715,2.643,9.838c-5.979-0.885-10.956-2.117-14.999-3.42C364.548,315.49,364.172,313.97,363.832,312.403z     M367.838,261.131c3.769,0.65,7.652,1.076,11.606,1.35c-1.688,5.924-3.022,12.427-3.692,19.333    c-4.96-0.882-9.146-1.978-12.445-3.052C364.372,272.45,365.971,266.514,367.838,261.131z M404.623,231.088l4.086,24.333    c-7.788,1.124-14.864,1.532-21.173,1.488c4.548-12.748,10.146-21.723,11.854-24.311    C401.106,232.032,402.849,231.524,404.623,231.088z M388.312,262.824c6.861,0,13.965-0.529,21.27-1.584    c0.035-0.006,0.068-0.012,0.1-0.018l3.561,21.2c-12.38,1.538-22.952,1.311-31.598,0.261c0.7-7.15,2.164-13.865,3.978-19.932    C386.518,262.771,387.403,262.824,388.312,262.824z M383.049,309.325c-1.532-7.089-2.014-14.029-1.793-20.679    c4.38,0.508,9.216,0.823,14.505,0.823c5.636,0,11.813-0.382,18.456-1.224l5.375,32.007c-13.032,1.685-24.051,1.743-33.176,0.911    C385.107,317.468,383.96,313.535,383.049,309.325z M420.03,287.352c13.933-2.39,25.204-6.888,33.991-11.853    c2.499,6.868,4.311,14.349,4.944,22.361c0.307,3.869,0.309,7.539,0.18,11.101c-8.87,4.333-20,8.185-33.729,10.457L420.03,287.352z     M464.828,297.395c-0.717-9.049-2.796-17.41-5.636-25.016c5.444-3.545,9.676-7.097,12.827-10.113    c4.498,9.228,7.984,19.924,8.928,31.81c0.003,0.047,0.003,0.091,0.009,0.135c-3.757,3.51-8.943,7.617-15.799,11.566    C465.157,303.063,465.058,300.273,464.828,297.395z M458.358,240.925c3.589,4.451,7.361,9.787,10.789,15.881    c-2.828,2.817-6.879,6.356-12.239,9.952c-2.984-6.732-6.518-12.774-10.148-18.054    C451.285,246.125,455.138,243.451,458.358,240.925z M451.801,269.945c-8.375,4.839-19.262,9.287-32.744,11.61l-3.583-21.344    c10.09-2.005,18.712-5.142,25.939-8.69C445.142,256.871,448.785,263.042,451.801,269.945z M388.806,327.251    c3.058,0.213,6.291,0.33,9.713,0.33c6.639,0,14.009-0.475,22.05-1.523l3.52,20.967c-8.285,1.053-15.741,1.441-22.399,1.365    C397.111,342.801,392.527,335.807,388.806,327.251z M429.908,346.185l-3.519-20.965c12.833-2.119,23.498-5.523,32.271-9.448    c-1.059,9.625-3.467,17.954-6.333,24.845C445.778,342.902,438.313,344.821,429.908,346.185z M464.919,312.729    c6.724-3.542,12.109-7.31,16.328-10.81c-0.009,9.799-1.511,18.451-3.666,25.83c-4.763,3.398-10.607,6.835-17.704,9.91    C462.35,330.512,464.272,322.183,464.919,312.729z M489.476,297.642c0,8.409-1.532,16.463-4.313,23.917    c1.502-7.383,2.284-15.709,1.828-24.884c0.888-0.899,1.688-1.755,2.396-2.552C489.444,295.287,489.476,296.46,489.476,297.642z     M486.272,288.654c-1.582-11.545-5.339-21.905-9.925-30.866c0.05-0.059,0.117-0.129,0.167-0.186    c5.957,8.243,10.119,17.854,11.931,28.264C487.995,286.502,487.283,287.452,486.272,288.654z M453.416,237.306    c-2.875,2.169-6.244,4.425-10.125,6.597c-4.533-5.956-8.975-10.695-12.45-14.07C438.901,231.003,446.513,233.576,453.416,237.306z     M420.944,229.11c0.106,0,0.209,0.009,0.315,0.009c2.245,1.875,9.231,8.022,16.625,17.592c-6.574,3.137-14.358,5.892-23.381,7.7    l-4.113-24.486C413.83,229.389,417.355,229.11,420.944,229.11z M381.248,256.707c-4.201-0.241-7.947-0.679-11.283-1.208    c0.946-2.343,1.916-4.56,2.893-6.623c5.077-5.007,10.93-9.22,17.357-12.459C387.495,241.331,384.11,248.278,381.248,256.707z     M360.132,266.103c-0.949,3.377-1.775,6.909-2.437,10.578c-0.668-0.282-1.241-0.538-1.732-0.768    C357.102,272.514,358.499,269.239,360.132,266.103z M360.126,321.542c2.376,7.924,5.495,14.824,8.908,20.765    c-5.604-6.503-10.008-14.062-12.868-22.34C357.358,320.478,358.663,321.007,360.126,321.542z M388.1,357.768    c-1.446-1.455-2.961-3.087-4.507-4.903c4.501,0.679,9.558,1.164,15.188,1.34c4.086,4.716,8.09,8.395,11.489,11.131    C402.353,364.091,394.879,361.487,388.1,357.768z M421.685,366.153c-1.884-1.103-7.899-4.893-14.778-11.925    c5.573-0.129,11.624-0.573,18.153-1.408l2.19,13.051C425.416,366.039,423.558,366.132,421.685,366.153z M456.908,345.182    c6.7-2.519,12.507-5.371,17.466-8.323c-1.214,2.938-2.487,5.578-3.736,7.9c-6.301,6.641-13.909,12.03-22.417,15.734    C450.902,356.722,454.05,351.591,456.908,345.182z"/>`

    /**
     * ## Persistent Data  ðŸ”§
     *
     * Exposed properties are the attributes of this class.
     */
    @Schema({
        pack: pack,
    })
    export class PersistentData extends Schemas.SimpleObject3DConfiguration{

        /**
         * Sphere radius, default to 1.
         */
        @Property({ description: "radius of the sphere" })
        readonly radius : number

        /**
         * Number of horizontal segments. Minimum value is 3, and the default is 8.
         */
        @Property({ description: "Number of horizontal segments. Minimum value is 3, and the default is 8." })
        readonly widthCount : number

        /**
         * Number of vertical segments. Minimum value is 2, and the default is 6.
         */
        @Property({ description: "Number of vertical segments. Minimum value is 2, and the default is 6." })
        readonly heightCount : number


        constructor( { radius, widthCount, heightCount, ...others} :
                     { radius?: number, widthCount?:number, heightCount?: number, others?:any}= {}
            ) {
            super( {...{objectId:"sphereGeometry", classes:"Object3D SphereGeometry"}, ...others} )

            this.radius             = radius != undefined ? radius : 1
            this.widthCount         = widthCount != undefined ? widthCount : 8
            this.heightCount        = heightCount != undefined ? heightCount : 6
        }
    }

    /** ## Module
    * 
    * General documentation of this module provided [[ModuleSphere | here]].
    * 
    */
    @Flux({
        pack:           pack,
        namespace:      ModuleSphere,
        id:             "ModuleSphere",
        displayName:    "Sphere",
        description:    "Sphere geometry",
        resources: {
            'technical doc': `${pack.urlCDN}/dist/docs/modules/lib_sphere_module.modulesphere.html`
        }
    })
    @BuilderView({
        namespace:      ModuleSphere,
        icon:           svgIcon
    })
    export class Module extends BufferGeometryModule<PersistentData> {

        static shape(config : PersistentData){
            return new SphereBufferGeometry( config.radius, config.widthCount,config.heightCount ); 
        }

        constructor(params){ 
            super("sphere", Module.shape, params)   
        }
    }


}
